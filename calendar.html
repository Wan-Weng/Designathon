<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Google Calendar List</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.1/main.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.1/main.min.js"></script>

    <!-- Import Dancing Script font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f8fb;
            color: #333;
            margin: 0;
            padding: 0;
            transition: background 0.3s ease;
        }

        h1 {
            font-family: 'Dancing Script', cursive; /* Apply Dancing Script font */
            background-color: #a0c8f0;
            color: #fff;
            text-align: center;
            padding: 20px;
            margin-bottom: 20px;
            font-size: 50px;
        }

        /* Tab Styling */
        .tabs {
            display: flex;
            justify-content: center;
            background-color: #007acc;
            padding: 10px;
        }

        .tab-button {
            background-color: #007acc;
            color: white;
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            font-size: 1.2rem;
            margin: 0 10px;
            transition: background-color 0.3s;
        }

        .tab-button:hover {
            background-color: #005fa3;
        }

        .tab-button.active {
            background-color: #005fa3;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            padding: 20px;
        }

        .tab-content.active {
            display: block;
        }

        /* Event List Styling */
        ul {
            list-style-type: none;
            padding: 0;
            margin: 0 20px;
        }

        li {
            background-color: #ffffff;
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        li strong {
            display: block;
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 10px;
        }

        .no-events {
            text-align: center;
            font-size: 1.2rem;
            color: #666;
            margin-top: 20px;
        }

        /* Gradient Background for the Events Tab */
        .tab-content#events-content.active {
            background: linear-gradient(to bottom, #a0c8f0, #d3e7f9);
        }

    </style>
</head>
<body>
    <h1>MediCal</h1>

    <div class="tabs">
        <button class="tab-button active" id="events-tab">Events List</button>
        <button class="tab-button" id="calendar-tab">Calendar</button>
	<button class="tab-button" id="ai-tab">AI</button>
    </div>

    <div id="events-content" class="tab-content active">
        {% if events %}
            <ul>
                {% for event in events %}
                    <li>
                        <strong>{{ event['summary'] }}</strong>
                        <p><strong>Start Time:</strong> {{ event['start'].get('dateTime', event['start'].get('date')) }}</p>
                        <p><strong>Location:</strong> {{ event.get('location', 'No location provided') }}</p>
                        <p><strong>Description:</strong> {{ event.get('description', 'No description available') }}</p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="no-events">No upcoming events found.</p>
        {% endif %}
    </div>

    <div id="calendar-content" class="tab-content">
        <div data-tockify-component="calendar" data-tockify-calendar="calendar222"></div>
        <script data-cfasync="false" data-tockify-script="embed" src="https://public.tockify.com/browser/embed.js"></script>
    </div>	

    <div id="ai-content" class="tab-content">
        <iframe
            src="https://www.chatbase.co/chatbot-iframe/qIlyo5F9Kb6IUHYmmzu52"
            width="100%"
            style="height: 100%; min-height: 700px"
            frameborder="0">
        </iframe>
        <script>
            window.embeddedChatbotConfig = {
            chatbotId: "qIlyo5F9Kb6IUHYmmzu52",
            domain: "www.chatbase.co"
            }
        </script>
            script
            src="https://www.chatbase.co/embed.min.js"
            chatbotId="qIlyo5F9Kb6IUHYmmzu52"
            domain="www.chatbase.co"
            defer
        </script>
    </div>

    <script>
        // Tab Switching
        const eventsTab = document.getElementById('events-tab');
        const calendarTab = document.getElementById('calendar-tab');
        const aiTab = document.getElementById('ai-tab');
        const eventsContent = document.getElementById('events-content');
        const calendarContent = document.getElementById('calendar-content');
        const aiContent = document.getElementById('ai-content');

        eventsTab.addEventListener('click', function() {
            eventsContent.classList.add('active');
            calendarContent.classList.remove('active');
            aiContent.classList.remove('active');
            eventsTab.classList.add('active');
            calendarTab.classList.remove('active');
            aiTab.classList.remove('active');
            document.body.style.background = "linear-gradient(to bottom, #a0c8f0, #d3e7f9)";
        });

        calendarTab.addEventListener('click', function() {
            eventsContent.classList.remove('active');
            calendarContent.classList.add('active');
            aiContent.classList.remove('active');
            eventsTab.classList.remove('active');
            calendarTab.classList.add('active');
            aiContent.classList.remove('active');
            document.body.style.background = "#f4f8fb"; // Reset background for calendar tab
        });
aiTab.addEventListener('click', function() {
            eventsContent.classList.remove('active');
            calendarContent.classList.remove('active');
            aiContent.classList.add('active');
            eventsTab.classList.remove('active');
            calendarTab.classList.remove('active');
            aiContent.classList.add('active');
            document.body.style.background = "#f4f8fb"; // Reset background for ai tab
        });
    </script>
</body>
</html>
